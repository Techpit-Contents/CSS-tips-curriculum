
# [座学]単位と計算

## 単位
### px
絶対にして基本。画面上のpx（1dot)を基準として描画される。


### %
ボックスの幅（高さ）を基準として n %。
position: absolute とか設定されてると 100%が直近のposition: static以外の親要素の幅になる

また、フォントサイズの指定にも使える。この場合、親要素の font-size(計算済みのpx値)を100%として相対的な大きさになる。
親要素をfont-sizeを継承していくため、下記のようになる。

```
<div style="font-size: 16px">
 <p>16px</p>
 <div style="font-size: 120%">
   <p>16 x 1.2 = 19.2 px</p>
   <div style="font-size: 140%">
     <p>19.2px x 1.4 = 26.88px</p>
   </div>
 </div>

</div>
```


### em
親要素のfont-size(計算済みのpx値)を1として相対的な大きさになる
ネストして指定すると親要素の値を使うので、コントロールし辛い点も同様。
最近はあんまり使わないかもしれないけど見かけたらこれ。

### rem
html要素に降ってある font-size に対する相対値。
html要素が16pxであればそのページ内ではどこでも 1rem = 16px だし、 0.5rem = 8px といった具合。
この単位はfont-sizeだけではなく要素の幅や高さなどなどに使える。

html 要素のfont-sizeを変化させればrem単位の要素全てが変化するので、レスポンシブなデザインをするときに使用を考慮することもある。

[remを使ってCSSの文字サイズ指定 \| パソコン工房 NEXMAG](https://www.pc-koubou.jp/magazine/23912)


### `<number>`単位なし
line-heightは`<number>`単位なしだと font-size に`<number>`を掛けたものになる。
要するに line-height: 1 にしとけばfont-sizeに合わせて行間がほぼ無くなる。
既定値は 1.2前後らしい。
[line\-height \- CSS: カスケーディングスタイルシート \| MDN](https://developer.mozilla.org/ja/docs/Web/CSS/line-height)


### vw, vh
viewport（画面の幅、高さ） に対しての幅、高さを算出する。
親要素によらずデバイスの幅を参照するため、入れ子になった要素のスタイリングに便利で使いがちである。
100vhはアドレスバーとステータスバーを貫通するなど、モバイル端末で思いも寄らないレイアウト崩れのズレが出ることがあるのと、親要素の幅を無視するため筆者はあまり好みでない。

[【CSS】100vhは「一画面」ではないという罠 \| JavaScriptに関するお知らせ](https://jsnotice.com/posts/2019-03-30/)


## calc()

calc(100% - 24px) とかできる。四則演算がOK。
同じ単位でも、 **違う単位でもできるので大変便利**
*演算子の前後にスペースがないとシンタックスエラーになる*
[calc\(\) \- CSS: カスケーディングスタイルシート \| MDN](https://developer.mozilla.org/ja/docs/Web/CSS/calc())

### SASS(SCSS) の () との使い分け
SASS(SCSS)にも calc() みたいなやつがある。
こいつはプリコンパイル時に結果を確定させるので、同じ単位でないと動かないはず。

[四則演算 \| SASS・SCSS逆引き \| Webサイト制作支援 \| ShanaBrian Website](https://shanabrian.com/web/sass/4arithmetic-operations.php)

一方で、cssの calc() はブラウザでレンダリング時に計算されるので、パフォーマンスに影響が出るといえなくもない
（あまりにもたくさんの要素が動的に計算されていてレンダリングが遅いときは計測してみても良いだろう）


### SASS(SCSS) 変数を calc の中で使う
上述のリンク先にもあるが、 calc() の中はSASS(SCSS)コンパイラで処理しても基本的にはそのまま展開されるだけである。
事前に展開するには SCSS変数を展開するには `{$var}` のように {} でくくる必要がある。
[SCSSの変数と、CSS3のcalc\(\)を併用するには \- Qiita](https://qiita.com/mtmtkzm/items/2e3aef1b504ebcde5311)

